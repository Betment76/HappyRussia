# Сравнение стоимости: Yandex Cloud vs Firebase

## Yandex Cloud

### Текущая конфигурация:
- **Serverless Containers:** ~бесплатно (в рамках free tier)
- **PostgreSQL (s1.micro):** ~6 302 ₽/мес (~$70/мес)
- **Container Registry:** ~бесплатно (первые 10 GB)
- **Публичный IP:** ~187 ₽/мес

**Итого:** ~6 500 ₽/мес (~$72/мес)

### Можно оптимизировать:
- **PostgreSQL (s2.micro, TESTING):** ~1 500-2 000 ₽/мес (~$17-22/мес)
- **Итого:** ~1 700-2 200 ₽/мес (~$19-24/мес)

### Free Tier:
- Первые 3 месяца: $50 кредитов
- После: платно по факту использования

## Firebase (Google)

### Free Tier (Spark Plan):
- **Firestore:** 1 GB хранения, 50K чтений/день, 20K записей/день
- **Cloud Functions:** 2M вызовов/мес
- **Hosting:** 10 GB хранения, 360 MB/день трафика
- **Storage:** 5 GB хранения, 1 GB/день трафика
- **Authentication:** Бесплатно

### Платный план (Blaze - pay as you go):
- **Firestore:** $0.06 за 100K чтений, $0.18 за 100K записей
- **Cloud Functions:** $0.40 за 1M вызовов
- **Hosting:** $0.026 за GB трафика
- **Storage:** $0.026 за GB/мес

### Примерная стоимость для проекта:
- **Firestore:** ~$5-10/мес (зависит от трафика)
- **Cloud Functions:** ~$2-5/мес
- **Hosting:** ~$1-3/мес
- **Storage:** ~$1-2/мес

**Итого:** ~$10-20/мес (~900-1 800 ₽/мес)

## Сравнение

| Параметр | Yandex Cloud | Firebase |
|----------|--------------|----------|
| **Free Tier** | $50 на 3 месяца | Постоянный free tier |
| **Минимальная стоимость** | ~1 700 ₽/мес | ~900 ₽/мес |
| **Текущая конфигурация** | ~6 500 ₽/мес | ~1 500 ₽/мес |
| **База данных** | PostgreSQL (управляемая) | Firestore (NoSQL) |
| **Backend** | FastAPI (свой код) | Cloud Functions |
| **Сложность** | Средняя | Низкая |
| **Гибкость** | Высокая | Средняя |

## Рекомендации

### Firebase подходит если:
- ✅ Нужен бесплатный старт
- ✅ Хотите быстро запустить
- ✅ NoSQL база данных подходит
- ✅ Готовы к vendor lock-in (привязка к Google)

### Yandex Cloud подходит если:
- ✅ Нужен PostgreSQL (SQL)
- ✅ Хотите полный контроль над кодом
- ✅ Нужна гибкость архитектуры
- ✅ Готовы платить с начала

## Альтернативы

### 1. Supabase (PostgreSQL + Firebase-like API)
- **Free Tier:** 500 MB БД, 2 GB storage
- **Платно:** ~$25/мес (~2 250 ₽/мес)
- ✅ PostgreSQL
- ✅ Бесплатный старт
- ✅ Firebase-like API

### 2. Railway
- **Free Tier:** $5 кредитов/мес
- **Платно:** Pay as you go
- ✅ Простое развертывание
- ✅ PostgreSQL доступен

### 3. Render
- **Free Tier:** Ограниченный
- **Платно:** ~$7/мес за PostgreSQL
- ✅ Простое развертывание

## Вывод

**Firebase дешевле для старта**, но:
- NoSQL вместо SQL
- Меньше контроля
- Vendor lock-in

**Yandex Cloud дороже**, но:
- PostgreSQL (SQL)
- Полный контроль
- Гибкость

**Для вашего проекта:**
- Если нужен PostgreSQL → Yandex Cloud или Supabase
- Если можно NoSQL → Firebase дешевле
- Если нужен бесплатный старт → Firebase или Supabase

## Оптимизация Yandex Cloud

Можно снизить стоимость до ~1 700 ₽/мес:
1. Изменить окружение на TESTING (-20-30%)
2. Использовать s2.micro вместо s1.micro
3. Использовать network-hdd (уже используется)

