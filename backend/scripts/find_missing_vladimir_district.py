#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""Поиск Владимирского района в исходных данных"""

import json
from pathlib import Path

# Проверяем, может быть есть резервная копия или нужно найти в других источниках
# Согласно RuWiki, Владимирский район должен существовать

# Попробуем найти информацию о том, какой район был удален
# В предыдущем скрипте был удален "город Владимир" с населением 352,609 чел.

# Но это был город, а не район. Владимирский район - это отдельная административная единица
# с административным центром в городе Владимире.

# Согласно RuWiki, во Владимирской области 16 районов, включая Владимирский.

# Проверяем текущие данные
file_path = Path(__file__).parent.parent / 'app' / 'data' / 'districts' / 'central.json'

with open(file_path, 'r', encoding='utf-8') as f:
    data = json.load(f)

region = None
for r in data['regions']:
    if r['id'] == '33':
        region = r
        break

if not region:
    print("Владимирская область не найдена!")
    exit(1)

print("=== ПОИСК ВЛАДИМИРСКОГО РАЙОНА ===\n")

# Согласно RuWiki, во Владимирской области должно быть 16 районов:
# 1. Александровский
# 2. Вязниковский  
# 3. Гороховецкий
# 4. Гусь-Хрустальный
# 5. Камешковский
# 6. Киржачский
# 7. Ковровский
# 8. Кольчугинский
# 9. Меленковский
# 10. Муромский
# 11. Петушинский
# 12. Селивановский
# 13. Собинский
# 14. Судогодский
# 15. Суздальский
# 16. Юрьев-Польский

# НО! Согласно RuWiki, также есть:
# - Владимирский район (админцентр - город Владимир)

# Проверяем, какие районы есть
print("Текущие районы:")
for i, district in enumerate(sorted(region['urban_districts'], key=lambda x: x['name']), 1):
    print(f"{i}. {district['name']}")

# Ищем районы, которые могут быть связаны с Владимиром
print("\nРайоны, содержащие 'Владимир':")
for district in region['urban_districts']:
    if 'владимир' in district['name'].lower():
        print(f"  - {district['name']} ({district['population']:,} чел.)")

# Проверяем, может быть есть район с другим названием, который является Владимирским
# Например, может быть просто "Владимир" или что-то подобное

print("\nВсего районов сейчас: ", len(region['urban_districts']))
print("Должно быть: 16 (согласно RuWiki) или 17 (если считать Владимирский отдельно)")

